<div class="page-content">
    <div class="container-fluid">

      <app-breadcrumb></app-breadcrumb>


                <div class="container-fluid">

                  <div class="row justify-content-center">
                      <div class="col-xxl-9">
                          <div class="card">

                              <div>
                                  <ul class="nav nav-tabs nav-tabs-custom" role="tablist">
                                      <li class="nav-item">
                                          <a class="nav-link active" data-bs-toggle="tab" href="#full" role="tab" aria-selected="false">
                                              <i class="ri-search-2-line text-muted align-bottom me-1"></i> {{'searchTag.title.allResult' | translate}}
                                          </a>
                                      </li>
                                      <li class="nav-item">
                                          <a class="nav-link " data-bs-toggle="tab" id="images-tab" href="#images" role="tab" aria-selected="true">
                                              <i class="ri-image-fill text-muted align-bottom me-1"></i> {{'searchTag.title.post' | translate}}
                                          </a>
                                      </li>
                                      <li class="nav-item">
                                          <a class="nav-link" data-bs-toggle="tab" href="#news" role="tab" aria-selected="false">
                                              <i class="ri-list-unordered text-muted align-bottom me-1"></i> {{'searchTag.title.chapter' | translate}}
                                          </a>
                                      </li>

                                      <li class="nav-item ms-auto">

                                      </li>
                                  </ul>
                              </div>
                              <div class="card-body p-4">
                                  <div class="tab-content text-muted">
                                    <div class="tab-pane active" id="full" role="tabpanel">
                                        <h3 style="font-weight: 500;" *ngIf="searchText!=''&&totalChapter+totalPost>0" class="text-center">{{'searchTag.title.total' | translate}} {{totalChapter+totalPost}} {{'searchTag.title.record' | translate}} {{'searchTag.title.for' | translate}} '{{searchText}}' </h3>
                                        <h3 style="font-weight: 500;" *ngIf="searchText==''&&totalChapter+totalPost>0" class="text-center">{{'searchTag.title.total' | translate}} {{totalChapter+totalPost}} {{'searchTag.title.record' | translate}}  </h3>
                                        <h3 style="font-weight: 500;" *ngIf="totalChapter+totalPost==0" class="text-center">{{'searchTag.title.noRecord' | translate}} {{'searchTag.title.for' | translate}} '{{searchText}}' </h3>
                                        <!-- <div class="row">
                                          <div class="col-lg-12">
                                              <div class="swiper images-menu mb-3 swiper-initialized swiper-horizontal swiper-pointer-events">
                                                  <div class="swiper-wrapper justify-content-center" id="swiper-wrapper-3c86e110820bad178" aria-live="polite" style="transition-duration: 0ms; transform: translate3d(0px, 0px, 0px);">

                                                      <div class="swiper-slide swiper-slide-active" style="margin-right: 10px;">
                                                          <div class="d-flex align-items-center border border-dashed rounded p-2">
                                                              <div class="flex-grow-1 ms-2">
                                                                  <a href="javascript:void(0);" class="stretched-link fw-medium">{{'searchTag.title.post' | translate}}</a>
                                                              </div>
                                                          </div>
                                                      </div>
                                                  </div>
                                              <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span></div>
                                          </div>
                                      </div> -->

                                        <!-- Start List Post -->
                                        <ng-container *ngFor="let post of listPost" >
                                          <div class="py-3 pointer " (click)="goPostDiscuss(post)">
                                              <h3 style="font-weight: 500;" class="mb-1"><a routerLink="/community/post-form/{{post.key}}">{{post.postTitle}}</a></h3>
                                              <!-- <p class="text-success mb-2">{{post.postTitle}}</p> -->
                                              <p class="text-muted mb-2" style="max-height: 20px; overflow: hidden;" [innerHTML]="post.postContent "></p>
                                              <ul class="list-inline d-flex align-items-center g-3 text-muted fs-14 mb-0">
                                                  <li class="list-inline-item flex-grow-1">
                                                      <div class="d-flex align-items-center">
                                                          <div class="flex-shrink-0">
                                                              <i class="ri-price-tag-3-fill"></i>
                                                          </div>
                                                          <div class="flex-grow-1 fs-13 ms-1">
                                                            <span *ngFor="let item of post.listTag" class="custom-trim-text btn badge bg-light text-dark"  (click)="badgeTagClick(item,'all')" >{{item}}</span>
                                                          </div>
                                                      </div>
                                                  </li>
                                                  <li class="list-inline-item me-3 "><i class="ri-reply-line me-1 align-bottom"></i>{{post.countAnswer}}</li>
                                                  <li class="list-inline-item me-3"><i class="ri-reply-fill me-1 align-bottom"></i>{{post.countReply}}</li>
                                                  <li class="list-inline-item me-3"><i class="ri-calendar-event-fill me-1 align-bottom"></i>{{post.insDate | date: 'hh:mm dd/MM/yyyy'}}</li>
                                                  <li class="list-inline-item">
                                                      <div class="d-flex align-items-center">
                                                          <div class="flex-shrink-0">
                                                              <i class="ri-user-line"></i>
                                                          </div>
                                                          <div class="flex-grow-1 fs-13 ms-1">
                                                              <span class="fw-medium">{{post.userInfoCreate.fullName}} </span>
                                                          </div>
                                                      </div>
                                                  </li>
                                              </ul>
                                          </div>
                                          <div class="border border-dashed"></div>
                                        </ng-container>

                                        <div class="mt-4" *ngIf="showHidePostBtn" (click)="showMorePost()">
                                          <ul class="pagination pagination-separated justify-content-center mb-0">
                                              <li class="page-item">
                                                  <a href="javascript:void(0);"  class="page-link">{{'searchTag.btn.showMore' | translate}}</a>
                                              </li>
                                          </ul>
                                        </div>

                                        <!-- End List Post -->

                                        <div class="border "></div>

                                        <!-- <div class="row" style="margin-top: 3%;">
                                          <div class="col-lg-12">
                                              <div class="swiper images-menu mb-3 swiper-initialized swiper-horizontal swiper-pointer-events">
                                                  <div class="swiper-wrapper justify-content-center" id="swiper-wrapper-3c86e110820bad178" aria-live="polite" style="transition-duration: 0ms; transform: translate3d(0px, 0px, 0px);">

                                                      <div class="swiper-slide swiper-slide-active" style="margin-right: 10px;">
                                                          <div class="d-flex align-items-center border border-dashed rounded p-2">
                                                              <div class="flex-grow-1 ms-2">
                                                                  <a href="javascript:void(0);" class="stretched-link fw-medium">{{'searchTag.title.chapter' | translate}}</a>
                                                              </div>
                                                          </div>
                                                      </div>
                                                  </div>
                                              <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span></div>
                                          </div>
                                      </div> -->

                                        <ng-container *ngFor="let chapter of listChapter">
                                          <div class="py-3 pointer" (click)="moveToChapter(chapter.key)">
                                              <h3 style="font-weight: 500;" class="mb-1"><a  href="javascript:void(0);">{{chapter.chapterNm}}</a></h3>
                                              <!-- <p class="text-success mb-2">{{chapter.chapterNm}}</p> -->
                                              <p class="text-muted mb-2" style="max-height: 20px; overflow: hidden;"  [innerHTML]="chapter.chapterContent "></p>
                                              <ul class="list-inline d-flex align-items-center g-3 text-muted fs-14 mb-0">
                                                <li class="list-inline-item flex-grow-1">
                                                    <div class="d-flex align-items-center">
                                                        <div class="flex-shrink-0">
                                                            <i class="ri-price-tag-3-fill"></i>
                                                        </div>
                                                        <div class="flex-grow-1 fs-13 ms-1">
                                                          <span *ngFor="let item of chapter.listTag" class="custom-trim-text btn badge bg-light text-dark"  (click)="badgeTagClick(item,'all')" >{{item}}</span>
                                                        </div>
                                                    </div>
                                                </li>
                                                  <li class="list-inline-item me-3"><i class="ri-calendar-event-fill me-1 align-bottom"></i>{{chapter.insDate | date: 'hh:mm dd/MM/yyyy'}}</li>
                                              </ul>
                                          </div>
                                          <div class="border border-dashed"></div>
                                        </ng-container>


                                        <div class="mt-4" *ngIf="showHideChapterBtn">
                                          <ul class="pagination pagination-separated justify-content-center mb-0">
                                              <li class="page-item">
                                                  <a href="javascript:void(0);" (click)="showMoreChapter()" class="page-link">{{'searchTag.btn.showMore' | translate}}</a>
                                              </li>
                                          </ul>
                                        </div>

                                      </div>
                                      <div class="tab-pane " id="images" role="tabpanel">




                                        <div class="gallery-light">
                                          <div class="row">

                                            <h3 style="font-weight: 500;" *ngIf="searchText!=''&&totalPost>0" class="text-center">{{'searchTag.title.total' | translate}} {{totalPost}} {{'searchTag.title.record' | translate}} {{'searchTag.title.for' | translate}} ''{{searchText}}'' </h3>
                                            <h3 style="font-weight: 500;" *ngIf="searchText==''&&totalChapter+totalPost>0" class="text-center">{{'searchTag.title.total' | translate}} {{totalPost}} {{'searchTag.title.record' | translate}}  </h3>
                                            <h3 style="font-weight: 500;" *ngIf="totalPost==0" class="text-center">{{'searchTag.title.noRecord' | translate}} {{'searchTag.title.for' | translate}} '{{searchText}}' </h3>
                                            <!-- <div class="swiper images-menu mb-3 swiper-initialized swiper-horizontal swiper-pointer-events">
                                                <div class="swiper-wrapper justify-content-center" id="swiper-wrapper-3c86e110820bad178" aria-live="polite" style="transition-duration: 0ms; transform: translate3d(0px, 0px, 0px);">

                                                    <div class="swiper-slide swiper-slide-active" style="margin-right: 10px;">
                                                        <div class="d-flex align-items-center border border-dashed rounded p-2">
                                                            <div class="flex-grow-1 ms-2">
                                                                <a href="javascript:void(0);" class="stretched-link fw-medium">{{listPost.length}}/{{totalPost}} {{'searchTag.title.post{{'searchTag.title.record' | translate}}' | translate}}</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span></div> -->

                                                <ng-container *ngFor="let post of listPost" >
                                                  <div class="py-3 pointer " (click)="goPostDiscuss(post)">
                                                      <h3 style="font-weight: 500;" class="mb-1"><a routerLink="/community/post-form/{{post.key}}">{{post.postTitle}}</a></h3>
                                                      <!-- <p class="text-success mb-2">{{post.postTitle}}</p> -->
                                                      <p class="text-muted mb-2" style="max-height: 20px; overflow: hidden;" [innerHTML]="post.postContent "></p>
                                                      <ul class="list-inline d-flex align-items-center g-3 text-muted fs-14 mb-0">
                                                          <li class="list-inline-item flex-grow-1">
                                                              <div class="d-flex align-items-center">
                                                                  <div class="flex-shrink-0">
                                                                      <i class="ri-price-tag-3-fill"></i>
                                                                  </div>
                                                                  <div class="flex-grow-1 fs-13 ms-1">
                                                                    <span *ngFor="let item of post.listTag" class="custom-trim-text btn badge bg-light text-dark"  (click)="badgeTagClick(item,'post')" >{{item}}</span>
                                                                  </div>
                                                              </div>
                                                          </li>
                                                          <li class="list-inline-item me-3 "><i class="ri-reply-line me-1 align-bottom"></i>{{post.countAnswer}}</li>
                                                          <li class="list-inline-item me-3"><i class="ri-reply-fill me-1 align-bottom"></i>{{post.countReply}}</li>
                                                          <li class="list-inline-item me-3"><i class="ri-calendar-event-fill me-1 align-bottom"></i>{{post.insDate | date: 'hh:mm dd/MM/yyyy'}}</li>
                                                          <li class="list-inline-item">
                                                              <div class="d-flex align-items-center">
                                                                  <div class="flex-shrink-0">
                                                                      <i class="ri-user-line"></i>
                                                                  </div>
                                                                  <div class="flex-grow-1 fs-13 ms-1">
                                                                      <span class="fw-medium">{{post.userInfoCreate.fullName}} </span>
                                                                  </div>
                                                              </div>
                                                          </li>
                                                      </ul>
                                                  </div>
                                                  <div class="border border-dashed"></div>
                                                </ng-container>

                                                <div class="mt-4" *ngIf="showHidePostBtn" (click)="showMorePost()">
                                                  <ul class="pagination pagination-separated justify-content-center mb-0">
                                                      <li class="page-item">
                                                          <a href="javascript:void(0);"  class="page-link">{{'searchTag.btn.showMore' | translate}}</a>
                                                      </li>
                                                  </ul>
                                                </div>

                                                  <!--end col-->
                                              </div>
                                              <!--end row-->

                                          </div>
                                      </div>
                                      <!--end tab-pane-->
                                      <div class="tab-pane" id="news" role="tabpanel">
                                          <div class="row">

                                            <h3 style="font-weight: 500;" *ngIf="searchText!=''&&totalChapter>0" class="text-center">{{'searchTag.title.total' | translate}} {{totalChapter}} {{'searchTag.title.record' | translate}} {{'searchTag.title.for' | translate}} '{{searchText}}' </h3>
                                            <h3 style="font-weight: 500;" *ngIf="searchText==''&&totalChapter>0" class="text-center">{{'searchTag.title.total' | translate}} {{totalChapter}} {{'searchTag.title.record' | translate}}  </h3>
                                            <h3 style="font-weight: 500;" *ngIf="totalChapter==0" class="text-center">{{'searchTag.title.noRecord' | translate}} {{'searchTag.title.for' | translate}} '{{searchText}}' </h3>

                                                  <div class="swiper images-menu mb-3 swiper-initialized swiper-horizontal swiper-pointer-events">

                                                      <!-- <div class="swiper-wrapper justify-content-center" id="swiper-wrapper-3c86e110820bad178" aria-live="polite" style="transition-duration: 0ms; transform: translate3d(0px, 0px, 0px);">

                                                          <div class="swiper-slide swiper-slide-active" style="margin-right: 10px;">
                                                              <div class="d-flex align-items-center border border-dashed rounded p-2">
                                                                  <div class="flex-grow-1 ms-2">
                                                                      <a href="javascript:void(0);" class="stretched-link fw-medium">{{listChapter.length}}/{{totalChapter}} {{'searchTag.title.postChapter' | translate}}</a>
                                                                  </div>
                                                              </div>
                                                          </div>
                                                      </div> -->

                                                      <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span></div>


                                            <ng-container *ngFor="let chapter of listChapter">
                                              <div class="py-3 pointer" (click)="moveToChapter(chapter.key)">
                                                  <h3 style="font-weight: 500;" class="mb-1"><a  href="javascript:void(0);">{{chapter.chapterNm}}</a></h3>
                                                  <!-- <p class="text-success mb-2">{{chapter.chapterNm}}</p> -->
                                                  <p class="text-muted mb-2" style="max-height: 20px; overflow: hidden;" [innerHTML]="chapter.chapterContent "></p>
                                                  <ul class="list-inline d-flex align-items-center g-3 text-muted fs-14 mb-0">
                                                    <li class="list-inline-item flex-grow-1">
                                                        <div class="d-flex align-items-center">
                                                            <div class="flex-shrink-0">
                                                                <i class="ri-price-tag-3-fill"></i>
                                                            </div>
                                                            <div class="flex-grow-1 fs-13 ms-1">
                                                              <span *ngFor="let item of chapter.listTag" class="custom-trim-text btn badge bg-light text-dark"  (click)="badgeTagClick(item,'chapter')" >{{item}}</span>
                                                            </div>
                                                        </div>
                                                    </li>
                                                      <li class="list-inline-item me-3"><i class="ri-calendar-event-fill me-1 align-bottom"></i>{{chapter.insDate | date: 'hh:mm dd/MM/yyyy'}}</li>
                                                  </ul>
                                              </div>
                                              <div class="border border-dashed"></div>
                                            </ng-container>

                                            <div class="mt-4" *ngIf="showHideChapterBtn">
                                              <ul class="pagination pagination-separated justify-content-center mb-0">
                                                  <li class="page-item">
                                                      <a href="javascript:void(0);" (click)="showMoreChapter()" class="page-link">{{'searchTag.btn.showMore' | translate}}</a>
                                                  </li>
                                              </ul>
                                            </div>
                                              <!--end col-->


                                          </div>
                                          <!--end row-->


                                      </div>
                                      <!--end tab-pane-->


                                  </div>
                                  <!--end tab-content-->

                              </div>
                              <!--end card-body-->
                          </div>
                          <!--end card -->
                      </div>
                      <!--end card -->
                  </div>
                  <!--end row-->

              </div>

    </div>
  </div>
